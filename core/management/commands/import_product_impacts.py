from django.core.management.base import BaseCommand
from decimal import Decimal
from core.models import ProductCatalog, ProductImpact

class Command(BaseCommand):
    help = "Importe les données d’impact environnemental des produits"

    def handle(self, *args, **options):
        impact_data = [
            # (name, [ (unit, quantity, weight_equiv_kg, waste_kg, co2_kg) ])
            ("Pomme", [("pièce", 1, 0.18, 0.08, 0.07), ("kg", 1, 1.0, 0.45, 0.40), ("g", 1000, 1.0, 0.45, 0.40)]),
            ("Poire", [("pièce", 1, 0.20, 0.09, 0.08), ("kg", 1, 1.0, 0.47, 0.42), ("g", 1000, 1.0, 0.47, 0.42)]),
            ("Fraise", [("kg", 1, 1.0, 0.80, 1.20), ("g", 1000, 1.0, 0.80, 1.20)]),
            ("Framboise", [("kg", 1, 1.0, 0.85, 1.50), ("g", 1000, 1.0, 0.85, 1.50)]),
            ("Myrtille", [("kg", 1, 1.0, 0.75, 1.30), ("g", 1000, 1.0, 0.75, 1.30)]),
            ("Groseille", [ ("kg", 1, 1.0, 0.70, 1.10), ("g", 1000, 1.0, 0.70, 1.10)]),
            ("Cassis", [ ("kg", 1, 1.0, 0.68, 1.00), ("g", 1000, 1.0, 0.68, 1.00)]),
            ("Cerise", [("kg", 1, 1.0, 0.60, 1.20), ("g", 1000, 1.0, 0.60, 1.20)]),
            ("Abricot", [("pièce", 1, 0.06, 0.03, 0.05), ("kg", 1, 1.0, 0.50, 0.90), ("g", 1000, 1.0, 0.50, 0.90)]),
            ("Pêche", [("pièce", 1, 0.20, 0.09, 0.08), ("kg", 1, 1.0, 0.45, 0.75), ("g", 1000, 1.0, 0.45, 0.75)]),
            ("Nectarine", [("pièce", 1, 0.18, 0.08, 0.07), ("kg", 1, 1.0, 0.44, 0.70), ("g", 1000, 1.0, 0.44, 0.70)]),
            ("Pastèque", [("pièce", 1, 3.0, 1.20, 1.60), ("kg", 1, 1.0, 0.40, 0.55), ("g", 1000, 1.0, 0.40, 0.55)]),
            ("Figue", [("pièce", 1, 0.05, 0.02, 0.04), ("kg", 1, 1.0, 0.55, 0.80), ("g", 1000, 1.0, 0.55, 0.80)]),
            ("Prune", [("pièce", 1, 0.06, 0.025, 0.05), ("kg", 1, 1.0, 0.48, 0.78), ("g", 1000, 1.0, 0.48, 0.78)]),
            ("Raisin Italia", [("kg", 1, 1.0, 0.60, 1.10), ("g", 1000, 1.0, 0.60, 1.10)]),
            ("Raisin Muscat", [("kg", 1, 1.0, 0.65, 1.15), ("g", 1000, 1.0, 0.65, 1.15)]),
            ("Coing", [("pièce", 1, 0.25, 0.12, 0.10), ("kg", 1, 1.0, 0.45, 0.75), ("g", 1000, 1.0, 0.45, 0.75)]),
            ("Châtaigne", [("kg", 1, 1.0, 0.35, 0.60), ("g", 1000, 1.0, 0.35, 0.60)]),
            ("Noix", [("kg", 1, 1.0, 0.30, 0.45), ("g", 1000, 1.0, 0.30, 0.45)]),
            ("Amande fraîche", [("kg", 1, 1.0, 0.40, 0.65), ("g", 1000, 1.0, 0.40, 0.65)]),
            ("Pomme Reinettes", [("pièce", 1, 0.20, 0.09, 0.07), ("kg", 1, 1.0, 0.43, 0.38), ("g", 1000, 1.0, 0.43, 0.38)]),
            ("Pomme Fuji", [("pièce", 1, 0.22, 0.10, 0.09), ("kg", 1, 1.0, 0.44, 0.39), ("g", 1000, 1.0, 0.44, 0.39)]),
            ("Pomme Pink Lady", [("pièce", 1, 0.21, 0.095, 0.085), ("kg", 1, 1.0, 0.43, 0.41), ("g", 1000, 1.0, 0.43, 0.41)]),
            ("Poire Conférence", [("pièce", 1, 0.20, 0.09, 0.08), ("kg", 1, 1.0, 0.47, 0.42), ("g", 1000, 1.0, 0.47, 0.42)]),
            ("Poire Comice", [("pièce", 1, 0.25, 0.12, 0.10), ("kg", 1, 1.0, 0.48, 0.45), ("g", 1000, 1.0, 0.48, 0.45)]),
            ("Kaki", [("pièce", 1, 0.30, 0.13, 0.11), ("kg", 1, 1.0, 0.50, 0.75), ("g", 1000, 1.0, 0.50, 0.75)]),
            ("Mangue (locale)", [("pièce", 1, 0.35, 0.15, 0.30), ("kg", 1, 1.0, 0.50, 0.85), ("g", 1000, 1.0, 0.50, 0.85)]),
            ("Banane (bio de Guadeloupe)", [("pièce", 1, 0.20, 0.09, 0.10), ("kg", 1, 1.0, 0.45, 0.70), ("g", 1000, 1.0, 0.45, 0.70)]),
            ("Litchi (Réunion)", [("kg", 1, 1.0, 0.55, 1.00), ("g", 1000, 1.0, 0.55, 1.00)]),
            ("Grenade", [("pièce", 1, 0.30, 0.13, 0.12), ("kg", 1, 1.0, 0.50, 0.80), ("g", 1000, 1.0, 0.50, 0.80)]),
            ("Citron", [("pièce", 1, 0.12, 0.06, 0.05), ("kg", 1, 1.0, 0.42, 0.70), ("g", 1000, 1.0, 0.42, 0.70)]),
            ("Orange", [("pièce", 1, 0.22, 0.09, 0.08), ("kg", 1, 1.0, 0.45, 0.72), ("g", 1000, 1.0, 0.45, 0.72)]),
            ("Clémentine", [("pièce", 1, 0.15, 0.07, 0.06), ("kg", 1, 1.0, 0.45, 0.65), ("g", 1000, 1.0, 0.45, 0.65)]),
            ("Pamplemousse", [("pièce", 1, 0.35, 0.18, 0.22), ("kg", 1, 1.0, 0.50, 0.66), ("g", 1000, 1.0, 0.50, 0.66)]),
            ("Kiwi", [("pièce", 1, 0.10, 0.05, 0.08), ("kg", 1, 1.0, 0.42, 0.75), ("g", 1000, 1.0, 0.42, 0.75)]),
            ("Tomate cerise", [("pièce", 10, 0.10, 0.06, 0.07), ("kg", 1, 1.0, 0.48, 0.80), ("g", 1000, 1.0, 0.48, 0.80)]),
            ("Physalis", [("pièce", 5, 0.05, 0.03, 0.04), ("kg", 1, 1.0, 0.40, 0.65), ("g", 1000, 1.0, 0.40, 0.65)]),
            ("Rhubarbe", [("kg", 1, 1.0, 0.45, 0.68), ("g", 1000, 1.0, 0.45, 0.68)]),
            ("Pomelo", [("pièce", 1, 0.40, 0.18, 0.22), ("kg", 1, 1.0, 0.48, 0.70), ("g", 1000, 1.0, 0.48, 0.70)]),
            ("Ananas (bio Réunion)", [("pièce", 1, 1.50, 1.20, 1.15), ("kg", 1, 1.0, 0.50, 0.75), ("g", 1000, 1.0, 0.50, 0.75)]),
            ("Baies de sureau", [("kg", 1, 1.0, 0.45, 0.70), ("g", 1000, 1.0, 0.45, 0.70)]),
            ("Nashi", [("pièce", 1, 0.25, 0.12, 0.10), ("kg", 1, 1.0, 0.50, 0.72), ("g", 1000, 1.0, 0.50, 0.72)]),
            ("Mirabelle", [("pièce", 5, 0.10, 0.06, 0.07), ("kg", 1, 1.0, 0.45, 0.68), ("g", 1000, 1.0, 0.45, 0.68)]),
            ("Quetsche", [("pièce", 5, 0.15, 0.08, 0.09), ("kg", 1, 1.0, 0.50, 0.70), ("g", 1000, 1.0, 0.50, 0.70)]),
            ("Sorbe", [("kg", 1, 1.0, 0.40, 0.63), ("g", 1000, 1.0, 0.40, 0.63)]),
            ("Autre fruit rouge", [("kg", 1, 1.0, 0.48, 0.72), ("g", 1000, 1.0, 0.48, 0.72)]),
            ("Autre agrume", [("kg", 1, 1.0, 0.50, 0.73), ("g", 1000, 1.0, 0.50, 0.73)]),
            ("Autre fruit tropical", [("kg", 1, 1.0, 0.52, 0.78), ("g", 1000, 1.0, 0.52, 0.78)]),
            ("Autre fruit", [("kg", 1, 1.0, 0.50, 0.70), ("g", 1000, 1.0, 0.50, 0.70)]),

            ("Carotte", [("kg", 1, 1.0, 0.40, 0.18), ("g", 1000, 1.0, 0.40, 0.18)]),
            ("Betterave", [("kg", 1, 1.0, 0.42, 0.20), ("g", 1000, 1.0, 0.42, 0.20)]),
            ("Radis", [("botte", 1, 0.25, 0.10, 0.07), ("kg", 1, 1.0, 0.40, 0.30), ("g", 1000, 1.0, 0.40, 0.30)]),
            ("Navet", [("kg", 1, 1.0, 0.45, 0.22), ("g", 1000, 1.0, 0.45, 0.22)]),
            ("Topinambour", [("kg", 1, 1.0, 0.44, 0.21), ("g", 1000, 1.0, 0.44, 0.21)]),
            ("Pomme de terre", [("kg", 1, 1.0, 0.50, 0.35), ("g", 1000, 1.0, 0.50, 0.35)]),
            ("Oignon jaune", [("pièce", 1, 0.15, 0.05, 0.04), ("kg", 1, 1.0, 0.45, 0.30), ("g", 1000, 1.0, 0.45, 0.30)]),
            ("Oignon rouge", [("pièce", 1, 0.20, 0.06, 0.05), ("kg", 1, 1.0, 0.48, 0.32), ("g", 1000, 1.0, 0.48, 0.32)]),
            ("Ail", [("tête", 1, 0.10, 0.03, 0.04), ("kg", 1, 1.0, 0.40, 0.50), ("g", 1000, 1.0, 0.40, 0.50)]),
            ("Échalote", [("kg", 1, 1.0, 0.43, 0.29), ("g", 1000, 1.0, 0.43, 0.29)]),
            ("Poireau", [("pièce", 1, 0.25, 0.10, 0.08), ("kg", 1, 1.0, 0.46, 0.37), ("g", 1000, 1.0, 0.46, 0.37)]),
            ("Chou blanc", [("pièce", 1, 1.5, 0.60, 0.40), ("kg", 1, 1.0, 0.45, 0.30), ("g", 1000, 1.0, 0.45, 0.30)]),
            ("Chou rouge", [("pièce", 1, 1.5, 0.62, 0.42), ("kg", 1, 1.0, 0.46, 0.32), ("g", 1000, 1.0, 0.46, 0.32)]),
            ("Chou frisé", [("pièce", 1, 1.2, 0.50, 0.35), ("kg", 1, 1.0, 0.48, 0.33), ("g", 1000, 1.0, 0.48, 0.33)]),
            ("Chou de Bruxelles", [("g", 300, 0.30, 0.10, 0.07), ("kg", 1, 1.0, 0.52, 0.40), ("g", 1000, 1.0, 0.52, 0.40)]),
            ("Céleri rave", [("pièce", 1, 0.8, 0.30, 0.25), ("kg", 1, 1.0, 0.50, 0.38), ("g", 1000, 1.0, 0.50, 0.38)]),
            ("Céleri branche", [("botte", 1, 0.5, 0.18, 0.15), ("kg", 1, 1.0, 0.47, 0.36), ("g", 1000, 1.0, 0.47, 0.36)]),
            ("Courgette ronde", [("pièce", 1, 0.25, 0.10, 0.08), ("kg", 1, 1.0, 0.42, 0.33), ("g", 1000, 1.0, 0.42, 0.33)]),
            ("Courge butternut", [("pièce", 1, 1.2, 0.55, 0.38), ("kg", 1, 1.0, 0.50, 0.40), ("g", 1000, 1.0, 0.50, 0.40)]),
            ("Potimarron", [("pièce", 1, 1.3, 0.58, 0.41), ("kg", 1, 1.0, 0.51, 0.42), ("g", 1000, 1.0, 0.51, 0.42)]),
            ("Citrouille", [("kg", 1, 1.0, 0.45, 0.60), ("g", 1000, 1.0, 0.45, 0.60)]),
            ("Salade feuille de chêne", [("pièce", 1, 0.20, 0.08, 0.10), ("kg", 1, 1.0, 0.40, 0.55), ("g", 1000, 1.0, 0.40, 0.55)]),
            ("Salade batavia", [("pièce", 1, 0.25, 0.09, 0.11), ("kg", 1, 1.0, 0.43, 0.58), ("g", 1000, 1.0, 0.43, 0.58)]),
            ("Mâche", [("kg", 1, 1.0, 0.48, 0.65), ("g", 1000, 1.0, 0.48, 0.65)]),
            ("Roquette", [("kg", 1, 1.0, 0.48, 0.65), ("g", 1000, 1.0, 0.48, 0.65)]),
            ("Épinard", [("kg", 1, 1.0, 0.50, 0.70), ("g", 1000, 1.0, 0.50, 0.70)]),
            ("Blette", [("kg", 1, 1.0, 0.52, 0.68), ("g", 1000, 1.0, 0.52, 0.68)]),
            ("Haricot vert", [("kg", 1, 1.0, 0.50, 0.75), ("g", 1000, 1.0, 0.50, 0.75)]),
            ("Petit pois", [("kg", 1, 1.0, 0.48, 0.72), ("g", 1000, 1.0, 0.48, 0.72)]),
            ("Fève", [("kg", 1, 1.0, 0.45, 0.70), ("g", 1000, 1.0, 0.45, 0.70)]),
            ("Pois gourmand", [("kg", 1, 1.0, 0.47, 0.68), ("g", 1000, 1.0, 0.47, 0.68)]),
            ("Artichaut", [("pièce", 1, 0.35, 0.12, 0.14), ("kg", 1, 1.0, 0.55, 0.80), ("g", 1000, 1.0, 0.55, 0.80)]),
            ("Asperge verte", [("kg", 1, 1.0, 0.50, 0.85), ("g", 1000, 1.0, 0.50, 0.85)]),
            ("Asperge blanche", [("kg", 1, 1.0, 0.50, 0.85), ("g", 1000, 1.0, 0.50, 0.85)]),
            ("Fenouil", [("kg", 1, 1.0, 0.45, 0.70), ("g", 1000, 1.0, 0.45, 0.70)]),
            ("Concombre", [("pièce", 1, 0.30, 0.11, 0.10), ("kg", 1, 1.0, 0.50, 0.75), ("g", 1000, 1.0, 0.50, 0.75)]),
            ("Cornichon", [("kg", 1, 1.0, 0.48, 0.78), ("g", 1000, 1.0, 0.48, 0.78)]),
            ("Poivron vert", [("pièce", 1, 0.22, 0.08, 0.09), ("kg", 1, 1.0, 0.45, 0.70), ("g", 1000, 1.0, 0.45, 0.70)]),
            ("Aubergine", [("kg", 1, 1.0, 0.50, 0.78), ("g", 1000, 1.0, 0.50, 0.78)]),
            ("Tomate", [("pièce", 1, 0.18, 0.07, 0.06), ("kg", 1, 1.0, 0.42, 0.68), ("g", 1000, 1.0, 0.42, 0.68)]),
            ("Cresson", [("kg", 1, 1.0, 0.48, 0.70), ("g", 1000, 1.0, 0.48, 0.70)]),
            ("Chicorée", [("kg", 1, 1.0, 0.47, 0.66), ("g", 1000, 1.0, 0.47, 0.66)]),
            ("Endive", [("pièce", 1, 0.18, 0.07, 0.06), ("kg", 1, 1.0, 0.44, 0.63), ("g", 1000, 1.0, 0.44, 0.63)]),
            ("Panais", [("kg", 1, 1.0, 0.45, 0.68), ("g", 1000, 1.0, 0.45, 0.68)]),
            ("Rutabaga", [("kg", 1, 1.0, 0.43, 0.66), ("g", 1000, 1.0, 0.43, 0.66)]),
            ("Salsifis", [("kg", 1, 1.0, 0.45, 0.68), ("g", 1000, 1.0, 0.45, 0.68)]),
            ("Champignon de Paris", [("kg", 1, 1.0, 0.48, 0.73), ("g", 1000, 1.0, 0.48, 0.73)]),
            ("Pleurote", [("kg", 1, 1.0, 0.50, 0.75), ("g", 1000, 1.0, 0.50, 0.75)]),
            ("Shiitake", [("kg", 1, 1.0, 0.55, 0.78), ("g", 1000, 1.0, 0.55, 0.78)]),
            ("Autre légume", [("kg", 1, 1.0, 0.48, 0.70), ("g", 1000, 1.0, 0.48, 0.70)]),

            ("Lait cru fermier", [("l", 1, 1.0, 0.50, 0.90), ("cl", 100, 1.0, 0.50, 0.90)]),
            ("Fromage de chèvre", [("pièce", 1, 0.20, 0.10, 0.45), ("kg", 1, 1.0, 0.50, 1.50), ("g", 1000, 1.0, 0.50, 1.50)]),
            ("Yaourt fermier nature", [("g", 125, 0.125, 0.06, 0.08), ("kg", 1, 1.0, 0.48, 0.60)]),
            ("Beurre demi-sel", [("pièce", 1, 0.25, 0.10, 0.35), ("kg", 1, 1.0, 0.45, 1.20), ("g", 1000, 1.0, 0.45, 1.20)]),
            ("Crème fraîche épaisse", [("g", 250, 0.25, 0.12, 0.40), ("kg", 1, 1.0, 0.48, 1.30)]),
            ("Autre produit laitier", [("pièce", 1, 0.25, 0.10, 0.35), ("kg", 1, 1.0, 0.48, 1.00), ("g", 1000, 1.0, 0.48, 1.00)]),

            ("Poulet fermier", [("pièce", 1, 1.4, 0.60, 4.00), ("kg", 1, 1.0, 0.43, 2.86), ("g", 1000, 1.0, 0.43, 2.86)]),
            ("Saucisse artisanale", [("pièce", 1, 0.10, 0.05, 0.40), ("kg", 1, 1.0, 0.50, 4.00), ("g", 1000, 1.0, 0.50, 4.00)]),
            ("Steak haché de bœuf", [("pièce", 1, 0.125, 0.06, 0.60), ("kg", 1, 1.0, 0.48, 4.80), ("g", 1000, 1.0, 0.48, 4.80)]),
            ("Magret de canard", [("pièce", 1, 0.350, 0.18, 1.60), ("kg", 1, 1.0, 0.50, 4.57), ("g", 1000, 1.0, 0.50, 4.57)]),
            ("Rôti de porc", [("pièce", 1, 1.0, 0.48, 3.10), ("kg", 1, 1.0, 0.48, 3.10), ("g", 1000, 1.0, 0.48, 3.10)]),
            ("Autre viande", [("kg", 1, 1.0, 0.48, 3.50), ("g", 1000, 1.0, 0.48, 3.50)]),

            ("Truite fumée", [("g", 100, 0.1, 0.05, 0.60), ("kg", 1, 1.0, 0.50, 6.00)]),
            ("Filet de bar", [("pièce", 1, 0.15, 0.06, 0.90), ("kg", 1, 1.0, 0.45, 6.00), ("g", 1000, 1.0, 0.45, 6.00)]),
            ("Saumon d’élevage local", [("pièce", 1, 0.20, 0.08, 1.50), ("kg", 1, 1.0, 0.50, 7.50), ("g", 1000, 1.0, 0.50, 7.50)]),
            ("Autre poisson", [("kg", 1, 1.0, 0.50, 6.00), ("g", 1000, 1.0, 0.50, 6.00)]),

            ("Œufs plein air x6", [("boîte", 1, 0.36, 0.20, 0.40), ("pièce", 1, 0.06, 0.03, 0.07)]),
            ("Œufs bio x6", [("boîte", 1, 0.36, 0.22, 0.42), ("pièce", 1, 0.06, 0.04, 0.08)]),
            ("Autre œuf", [("pièce", 1, 0.06, 0.03, 0.07)]),

            # Boulangerie
            ("Pain au levain", [("pièce", 1, 0.400, 0.20, 0.45), ("kg", 1, 1.0, 0.50, 1.10), ("g", 1000, 1.0, 0.50, 1.10)]),
            ("Baguette tradition", [("pièce", 1, 0.250, 0.12, 0.30), ("kg", 1, 1.0, 0.48, 1.00), ("g", 1000, 1.0, 0.48, 1.00)]),
            ("Brioche maison", [("pièce", 1, 0.400, 0.15, 0.60), ("kg", 1, 1.0, 0.50, 1.50), ("g", 1000, 1.0, 0.50, 1.50)]),
            ("Tarte aux pommes", [("pièce", 1, 0.500, 0.18, 0.70)]),
            ("Autre produit de boulangerie", [("kg", 1, 1.0, 0.50, 1.20), ("g", 1000, 1.0, 0.50, 1.20)]),

            # Boissons
            ("Jus de pomme artisanal", [("l", 1, 1.0, 0.30, 0.50), ("cl", 100, 1.0, 0.30, 0.50)]),
            ("Cidre brut", [("l", 0.75, 0.75, 0.25, 0.45), ("cl", 75, 0.75, 0.25, 0.45)]),
            ("Kéfir maison", [("l", 0.5, 0.5, 0.20, 0.40), ("cl", 50, 0.5, 0.20, 0.40)]),
            ("Bière locale blonde", [("l", 0.33, 0.33, 0.10, 0.25), ("cl", 33, 0.33, 0.10, 0.25)]),
            ("Autre boisson", [("l", 1, 1.0, 0.30, 0.50), ("cl", 100, 1.0, 0.30, 0.50)]),

            # Produits secs
            ("Pâtes artisanales", [("kg", 1, 1.0, 0.20, 0.80), ("g", 1000, 1.0, 0.20, 0.80)]),
            ("Lentilles vertes", [("kg", 1, 1.0, 0.25, 0.85), ("g", 1000, 1.0, 0.25, 0.85)]),
            ("Pois chiches secs", [("kg", 1, 1.0, 0.25, 0.90), ("g", 1000, 1.0, 0.25, 0.90)]),
            ("Farine de blé T80", [("kg", 1, 1.0, 0.20, 0.75), ("g", 1000, 1.0, 0.20, 0.75)]),
            ("Autre produit sec", [("kg", 1, 1.0, 0.20, 0.80), ("g", 1000, 1.0, 0.20, 0.80)]),

            # Produits sucrés
            ("Confiture de fraise maison", [("g", 350, 0.350, 0.18, 0.70), ("kg", 1, 1.0, 0.51, 1.02)]),
            ("Miel d’acacia", [("g", 500, 0.500, 0.20, 0.90), ("kg", 1, 1.0, 0.40, 0.72)]),
            ("Pâte à tartiner maison", [("g", 400, 0.400, 0.25, 1.20), ("kg", 1, 1.0, 0.63, 3.00)]),
            ("Biscuits sablés", [("g", 250, 0.250, 0.12, 0.60), ("kg", 1, 1.0, 0.48, 2.40)]),
            ("Autre sucrerie", [("kg", 1, 1.0, 0.50, 2.00), ("g", 1000, 1.0, 0.50, 2.00)]),

            # Surgelés
            ("Sorbets artisanaux", [("g", 500, 0.500, 0.15, 1.00), ("kg", 1, 1.0, 0.30, 2.00)]),
            ("Légumes congelés bio", [("kg", 1, 1.0, 0.48, 0.90), ("g", 1000, 1.0, 0.48, 0.90)]),
            ("Autre produit surgelé", [("kg", 1, 1.0, 0.48, 1.00), ("g", 1000, 1.0, 0.48, 1.00)]),

            # Vegan
            ("Tofu fumé local", [("g", 200, 0.200, 0.10, 0.60), ("kg", 1, 1.0, 0.50, 3.00)]),
            ("Galettes végétales maison", [("g", 100, 0.100, 0.05, 0.35), ("kg", 1, 1.0, 0.50, 3.50)]),
            ("Seitan bio", [("g", 250, 0.250, 0.12, 0.70), ("kg", 1, 1.0, 0.48, 2.80)]),
            ("Autre produit vegan", [("kg", 1, 1.0, 0.40, 1.50), ("g", 1000, 1.0, 0.40, 1.50)]),

            # Snacks
            ("Noix de cajou grillées", [("g", 200, 0.200, 0.10, 1.20), ("kg", 1, 1.0, 0.50, 6.00)]),
            ("Chips artisanales", [("g", 150, 0.150, 0.05, 0.90), ("kg", 1, 1.0, 0.33, 6.00)]),
            ("Barres de céréales", [("g", 40, 0.040, 0.02, 0.25), ("kg", 1, 1.0, 0.50, 6.25)]),
            ("Autre snack", [("kg", 1, 1.0, 0.45, 2.00), ("g", 1000, 1.0, 0.45, 2.00)]),

            # Épices
            ("Herbes de Provence", [("g", 30, 0.030, 0.01, 0.10), ("kg", 1, 1.0, 0.33, 3.33)]),
            ("Sel marin", [("g", 250, 0.250, 0.05, 0.10), ("kg", 1, 1.0, 0.20, 0.40)]),
            ("Poivre noir moulu", [("g", 100, 0.100, 0.04, 0.12), ("kg", 1, 1.0, 0.40, 1.20)]),
            ("Autre épice", [("g", 100, 0.100, 0.04, 0.15), ("kg", 1, 1.0, 0.40, 1.50)]),

            # Produits bébé
            ("Purée bio pomme-carotte", [("g", 200, 0.200, 0.08, 0.15), ("kg", 1, 1.0, 0.40, 0.75)]),
            ("Compote sans sucre", [("g", 100, 0.100, 0.05, 0.12), ("kg", 1, 1.0, 0.50, 0.60)]),
            ("Biscuit bébé bio", [("g", 150, 0.150, 0.07, 0.18), ("kg", 1, 1.0, 0.47, 0.60)]),
            ("Autre produit bébé", [("kg", 1, 1.0, 0.40, 1.00), ("g", 1000, 1.0, 0.40, 1.00)]),

            # Hygiène
            ("Savon surgras", [("pièce", 1, 0.100, 0.05, 0.10)]),
            ("Dentifrice solide", [("pièce", 1, 0.080, 0.04, 0.08)]),
            ("Shampoing solide", [("pièce", 1, 0.090, 0.05, 0.12)]),
            ("Autre produit d’hygiène", [("pièce", 1, 0.100, 0.05, 0.10)]),

            # Ménager 
            ("Lessive naturelle", [("kg", 1, 1.0, 0.30, 0.40), ("l", 1, 1.0, 0.30, 0.40), ("cl", 100, 1.0, 0.30, 0.40)]),
            ("Liquide vaisselle écolo", [("kg", 1, 1.0, 0.25, 0.35), ("l", 0.75, 0.75, 0.25, 0.35), ("cl", 75, 0.75, 0.25, 0.35)]),
            ("Nettoyant multi-usage", [("kg", 1, 1.0, 0.30, 0.45), ("l", 1.0, 1.0, 0.30, 0.45), ("cl", 100, 1.0, 0.30, 0.45)]),
            ("Autre produit ménager", [("kg", 1, 1.0, 0.40, 0.60), ("l", 1.0, 1.0, 0.40, 0.60), ("cl", 100, 1.0, 0.40, 0.60)]),
            
            # Produits animaliers
            ("Croquettes chien bio", [("kg", 1, 1.0, 0.50, 1.50), ("g", 1000, 1.0, 0.50, 1.50)]),
            ("Friandises pour chats", [("g", 100, 0.1, 0.04, 0.30), ("kg", 1, 1.0, 0.40, 3.00)]),
            ("Autre produit animalier", [("kg", 1, 1.0, 0.40, 0.80), ("g", 1000, 1.0, 0.40, 0.80)]),

            # Autres
            ("Produit local divers", [("kg", 0.5, 0.5, 0.25, 0.70), ("g", 500, 0.5, 0.25, 0.70)]),

        ]

        ProductImpact.objects.all().delete()
        self.stdout.write("Données de ProductImpact supprimées.")

        for name, impacts in impact_data:
            try:
                product = ProductCatalog.objects.get(name=name)
                for unit, quantity, weight, waste, co2 in impacts:
                    ProductImpact.objects.update_or_create(
                        product=product,
                        unit=unit,
                        quantity=Decimal(str(quantity)),
                        defaults={
                            "weight_equivalent_kg": Decimal(str(weight)),
                            "avoided_waste_kg": Decimal(str(waste)),
                            "avoided_co2_kg": Decimal(str(co2)),
                        }
                    )
                self.stdout.write(self.style.SUCCESS(f"{name} importé."))
            except ProductCatalog.DoesNotExist:
                self.stdout.write(self.style.WARNING(f"⚠️ Produit introuvable : {name}"))
